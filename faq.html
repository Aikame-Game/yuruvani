<!DOCTYPE html>
<html lang="ja">
<head>
<link rel="icon" href="/favicon/favicon.ico">

  <link rel="icon" type="image/png" href="favicon/icon-32x32.png">

  <link rel="apple-touch-icon" href="favicon/apple-touch-icon-180x180.png">


    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9JE4XNJF8B"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9JE4XNJF8B');
</script>
<meta charset="UTF-8">
<title>マインクラフトバニラサーバー</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="ゆるばにらのその他">
<link rel="stylesheet" href="css/style.css">
</head>

<body>


<div id="container">


<header>

<h1 id="logo"><a href="index.html">ゆるばにら</a></h1>

<address>
    <a href="https://discord.gg/jEcqqDR5jG">ディスコードはこちら</a>&emsp;minevani@digdig.org
</address>



</header>


<div id="contents">


<main>

<section>
  <h2>サーバーステータス・その他</h2>

  <div id="mc-card" style="
    background: #1e1e1e; 
    color: white; 
    padding: 20px; 
    border-radius: 12px; 
    width: 300px; 
    font-family: sans-serif;
    border: 2px solid #333;
    box-shadow: 0 4px 15px rgba(0,0,0,0.5);">
    
    <div style="display: flex; align-items: center; gap: 15px;">
        <img id="mc-icon" src="images/サーバーico.png" width="64" height="64" style="border-radius: 8px; background: #333; display: block;">
        
        <div>
            <div id="mc-status-badge" style="font-size: 0.8em; font-weight: bold; margin-bottom: 5px;">確認中...</div>
            <div style="font-size: 1.2em; font-weight: bold;">ゆるばにら</div>
        </div>
    </div>

    <hr style="border: 0; border-top: 1px solid #444; margin: 15px 0;">

    <div style="display: flex; justify-content: space-between; font-size: 0.9em;">
        <span>接続人数:</span>
        <span id="mc-players" style="font-weight: bold;">-- / --</span>
    </div>
</div>

<script>
async function refreshMCStatus() {
    const ip = 'fryuruvani.f5.si:13560'; 
    const statusBadge = document.getElementById('mc-status-badge');
    const iconImg = document.getElementById('mc-icon');
    const playersText = document.getElementById('mc-players');

    try {
        // ★ここを /bedrock/2/ に変更しました
        const res = await fetch(`https://api.mcsrvstat.us/bedrock/2/${ip}`);
        const data = await res.json();

        if (data.online) {
            statusBadge.innerText = "● ONLINE";
            statusBadge.style.color = "#2ecc71";
            playersText.innerText = `${data.players.online} / ${data.players.max}`;
            
            // 統合版でもアイコンが設定されていれば表示
            if (data.icon) {
                iconImg.src = data.icon;
                iconImg.style.display = "block";
                iconImg.style.opacity = "1";
            } else {
                // アイコンがない場合は、外部サービスから取得を試みるかデフォルト画像を表示
                iconImg.src = `https://api.mcstatus.io/v2/widget/bedrock/${ip}`; 
                iconImg.style.display = "block";
                iconImg.style.opacity = "1";
            }
        } else {
            statusBadge.innerText = "● OFFLINE";
            statusBadge.style.color = "#e74c3c";
            playersText.innerText = "0 / --";
            iconImg.style.opacity = "0.3";
        }
    } catch (e) {
        statusBadge.innerText = "取得エラー";
    }
}

refreshMCStatus();
setInterval(refreshMCStatus, 60000);
</script>
<!--
<h2>よく頂く質問集<span class="small">※開閉ブロックタイプ</span></h2>

<dl class="faq">

<dt class="openclose">ここに質問を書きます。クリックで回答が開きます。</dt>
<dd>ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。</dd>

<dt class="openclose">ここに質問を書きます。クリックで回答が開きます。</dt>
<dd>ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。</dd>

<dt class="openclose">ここに質問を書きます。クリックで回答が開きます。ここに質問を書きます。クリックで回答が開きます。ここに質問を書きます。クリックで回答が開きます。ここに質問を書きます。クリックで回答が開きます。</dt>
<dd>ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。<br>
ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。</dd>

<dt class="openclose">ここに質問を書きます。クリックで回答が開きます。ここに質問を書きます。クリックで回答が開きます。ここに質問を書きます。クリックで回答が開きます。ここに質問を書きます。クリックで回答が開きます。</dt>
<dd>ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。<br>
ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。</dd>

</dl>

</section>

<section>

<h2>よく頂く質問集<span class="small">※開いているタイプ</span></h2>

<dl class="faq">

<dt>ここに質問を書きます。</dt>
<dd>ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。</dd>

<dt>ここに質問を書きます。</dt>
<dd>ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。</dd>

<dt>ここに質問を書きます。</dt>
<dd>ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。<br>
ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。</dd>

<dt>ここに質問を書きます。</dt>
<dd>ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。<br>
ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。</dd>

</dl>
-->
</section>


</main>


<!--開閉ブロック-->
<div id="menubar">

<h3>MENU</h3>

<nav>
<ul>
    <li><a href="index.html">ホーム</a></li>
    <li><a href="company.html">参加方法</a></li>
    <li><a href="service.html">wiki</a></li>
    <li><a href="faq.html">その他</a></li>
</ul>
</nav>

</div>
<!--/#menubar-->


</div>
<!--/#contents-->


<footer>
<small>Copyright&copy; <a href="index.html">Sample Company</a> All Rights Reserved.</small>
<span class="pr"><a href="https://template-party.com/" target="_blank">《Web Design:Template-Party》</a></span>
</footer>


</div>
<!--/#container-->


<!--ページの上部へ戻るボタン-->
<div class="pagetop"><a href="#">▲</a></div>


<!--開閉ボタン（ハンバーガーアイコン）-->
<div id="menubar_hdr">
<div class="menu-icon">
<span></span><span></span><span></span>
</div>
</div>


<!--jQueryの読み込み-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


<!--このテンプレート専用のスクリプト-->
<script src="js/main.js"></script>


</body>
</html>
